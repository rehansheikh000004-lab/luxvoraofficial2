<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Flappy Bird Clone</title>
  <style>
    body {
      display: flex; justify-content: center; align-items: center;
      height: 100vh; background: #0d0f14; margin: 0;
      font-family: sans-serif; color: white; flex-direction: column;
    }
    canvas {
      background: linear-gradient(to bottom, #87ceeb, #fff);
      border: 3px solid #ff8a00;
      border-radius: 10px;
    }
    h1 { margin-bottom: 10px; color: #ff8a00; }
  </style>
</head>
<body>
  <h1>Flappy Bird</h1>
  <canvas id="gameCanvas" width="400" height="500"></canvas>
  <script>
    const canvas=document.getElementById("gameCanvas");
    const ctx=canvas.getContext("2d");

    let bird={x:50,y:150,w:30,h:30,dy:0,gravity:0.6,jump:-10};
    let pipes=[];
    let frame=0, score=0, gameOver=false;

    function drawBird(){
      ctx.fillStyle="yellow";
      ctx.fillRect(bird.x,bird.y,bird.w,bird.h);
    }

    function drawPipes(){
      ctx.fillStyle="green";
      pipes.forEach(p=>{
        ctx.fillRect(p.x,0,p.w,p.top);
        ctx.fillRect(p.x,p.top+p.gap,p.w,canvas.height-(p.top+p.gap));
      });
    }

    function update(){
      if(gameOver) return;

      ctx.clearRect(0,0,canvas.width,canvas.height);

      // Bird physics
      bird.dy+=bird.gravity;
      bird.y+=bird.dy;
      drawBird();

      // Pipes
      if(frame%90===0){
        let top=Math.random()*200+50;
        pipes.push({x:canvas.width,w:40,top:top,gap:120});
      }
      pipes.forEach(p=>{p.x-=2;});
      drawPipes();

      // Collision
      pipes.forEach(p=>{
        if(bird.x<p.x+p.w && bird.x+bird.w>p.x && 
           (bird.y<p.top || bird.y+bird.h>p.top+p.gap)){
          gameOver=true; alert("Game Over! Score: "+score);
          document.location.reload();
        }
        if(p.x+ p.w===bird.x) score++;
      });

      // Out of bounds
      if(bird.y+bird.h>canvas.height || bird.y<0){
        gameOver=true; alert("Game Over! Score: "+score);
        document.location.reload();
      }

      ctx.fillStyle="black";
      ctx.font="20px Arial";
      ctx.fillText("Score: "+score,10,25);

      frame++;
      requestAnimationFrame(update);
    }

    document.addEventListener("keydown",()=>{bird.dy=bird.jump;});
    canvas.addEventListener("click",()=>{bird.dy=bird.jump;});

    update();
  </script>
</body>
</html>
